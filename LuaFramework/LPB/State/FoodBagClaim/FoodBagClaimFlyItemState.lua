-----
----- Generated by EmmyLua(https://github.com/EmmyLua)
----- Created by PC.
----- DateTime: 2022/8/30 11:30
-----
-----
--
----- 美食袋子飞行美食效果
--
--
--FoodBagClaimFlyItemState = Clazz(BaseFsmState,"FoodBagClaimFlyItemState")
--
--local this = FoodBagClaimFlyItemState
--local allNum = 0
--
--function FoodBagClaimFlyItemState:OnEnter(fsm,prestate,num)
--    this.fsm = fsm
--    this.view = fsm:GetOwner()
--    local owner = fsm:GetOwner()
--    allNum = num
--    owner.bagAnima.enabled = false
--    this:FlyItems()
--end
--
--
--
--function FoodBagClaimFlyItemState:FlyItems()
--    local obj = this.view["itemParent"]
--    local delay = 0
--    for i = 1, allNum do
--        local flyObj = fun.find_child(obj,tostring(i))
--        if flyObj then
--            local path = {}
--            local start_position = flyObj.transform.position
--            local endPos = GetFunctionPosition("FunctionIconCuisinesView")
--            path[1] = fun.calc_new_position_between(start_position, endPos, 0.45 , 1, 0)
--            path[2] = endPos
--            local scale = MCT.FoodBagClaimScale
--            Anim.scale_to_xy(flyObj,scale,scale,MCT.FoodBagClaimToIcon)
--            Anim.bezier_move(flyObj,path,MCT.FoodBagClaimToIcon,delay,1,2,function()
--                local view =  GetFunctionView("FunctionIconCuisinesView")
--                local anima =  fun.get_component(view,fun.ANIMATOR)
--                HomeEffectCache:GetPrefabFromCache("DaojubaodianGet",view,false,function(obj)
--                    fun.set_gameobject_scale(obj,0.4,0.4,1)
--                end,1)
--                if anima then
--                    anima:Play ("Get")
--                end
--                fun.set_active(flyObj.gameObject, false)
--                UISound.play("task_item_increase")
--                if i == allNum then
--                    this.view:SetData()
--                end
--            end)
--            delay = delay + 0.1
--        end
--    end
--end
--
--
--
--
--
--function FoodBagClaimFlyItemState:OnLeave(fsm)
--end