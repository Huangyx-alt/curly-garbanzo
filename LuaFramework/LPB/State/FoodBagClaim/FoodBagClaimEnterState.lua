-----
----- Generated by EmmyLua(https://github.com/EmmyLua)
----- Created by PC.
----- DateTime: 2022/2/17 16:31
-----
--
--
--FoodBagClaimEnterState = Clazz(BaseFsmState,"FoodBagClaimEnterState")
--local this = FoodBagClaimEnterState
--
--function FoodBagClaimEnterState:OnEnter(fsm,previous,view)
--    --self:QuickTaskNoAchieve(fsm)
--    FoodBagClaimEnterState:PlayEnter(fsm)
--    this.view = fsm:GetOwner()
--    this._fsm = fsm
--    LuaTimer:SetDelayFunction(0.5,function()
--        this:start_x_update()
--    end)
--end
--
--function FoodBagClaimEnterState:on_x_update()
--    if    this.view.view:GetCurrentAnimatorStateInfo(0) :IsName("idle")  then
--        this:stop_x_update()
--        if ModelList.ActivityModel:IsActivityAvailable(ActivityTypes.doubleFood) then
--            this._fsm:ChangeState("FoodBagClaimDoubleState")
--        else
--            this._fsm:ChangeState("FoodBagClaimIdleState")
--        end
--    end
--end
--
--function FoodBagClaimEnterState:GetFoodBagCount()
--    local foodBags = ModelList.CityModel:GetCityFoodBag()
--    local count = 0
--    for i = 1, #foodBags do
--        for k,v in pairs(foodBags) do
--            if v.value > 0 then
--                count = count + v.value
--            end
--        end
--    end
--    return count
--end
--
--
--
--function FoodBagClaimEnterState:PlayEnter(fsm)
--    local foodBags = FoodBagClaimEnterState:GetFoodBagCount()
--    local view = fsm:GetOwner()
--    if foodBags >0  then
--        if foodBags >= 2 and foodBags <= 4 then
--            view.view:Play("enter0" .. foodBags)
--            LuaTimer:SetDelayLoopFunction(0.2,0.3,foodBags,function()
--                UISound.play("food_bag")
--            end)
--        elseif foodBags > 4 then
--            view.view:Play("enter05_12")
--            UISound.play("food_bag_1")
--        else
--            UISound.play("food_bag")
--        end
--     end
--    local obj = view["itemParent"]
--    for i = 1, 20 do
--        local child = fun.find_child(obj,tostring(i))
--        if child then
--            fun.set_active(child,false)
--        end
--    end
--end
--
--function FoodBagClaimEnterState:OnLeave(fsm)
--end
--
--function FoodBagClaimEnterState:QuickTaskNoAchieve(fsm)
--    --fsm:GetOwner():OnQuickTaskNoAchieve()
--end
--
--function FoodBagClaimEnterState:TweenSliderFinish(fsm)
--    --if fsm then
--    --    fsm:GetOwner():QuickTaskFinish()
--    --end
--end
