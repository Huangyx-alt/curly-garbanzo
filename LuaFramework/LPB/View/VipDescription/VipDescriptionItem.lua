---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by PC.
--- DateTime: 2022/8/22 11:37
---
local VipDescriptionItem = BaseChildView:New()
VipDescriptionItem.__index = VipDescriptionItem
local this = VipDescriptionItem

this.auto_bind_ui_items = {
    "title",
    "benefit1",
    "benefit2",
    "benefit3",
    "btn_bg",
    "helpIcon",
}

function VipDescriptionItem.New()
    local o = {}
    setmetatable(o, { __index = VipDescriptionItem })
    return o
end


function VipDescriptionItem:Init(obj, parent_ref)
    if self.isInit then
        self:Close()
    end
    self:on_init(obj, parent_ref)
end

function VipDescriptionItem:SetData(data,vipList)
    self.title.text = Csv.GetData("description",data.name,"description")
    self._data = data
    for i = 1, #vipList do
        if vipList[i] ~= -1 then
            local vv = Csv.GetData("vip",vipList[i],data["vip"])
            self["benefit"..i].text = "x"..vv.."%"
           -- log.r(  vipList[i].."     "..data["vip"].."      benefit  "..vv)
        end
    end
end

function VipDescriptionItem:on_btn_bg_click()
    self:GetParentView():ShowHelpInfo(self.helpIcon,self._data.description)
end

return this