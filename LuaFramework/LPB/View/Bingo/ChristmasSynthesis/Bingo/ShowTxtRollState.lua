---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Administrator.
--- DateTime: 26/11/2024 ���� 3:10
---


local ShowTxtRollState = Clazz(BaseFsmState, "ShowTxtRollState")
local this = ShowTxtRollState

function ShowTxtRollState:New()
    local o = {}
    setmetatable(o, { __index = ShowTxtRollState })
    return o
end

function ShowTxtRollState:InitState()
end

function ShowTxtRollState:OnEnter(fsm, previous)
    log.EditorLog(tostring(fsm:GetOwner():GetCardId()) .. " enterstate  " .. "ShowTxtRollState:OnEnter")
    self._fsm = fsm
    self._owner = fsm:GetOwner()
    self._owner2 = fsm:GetOwner()
    LuaTimer:SetDelayFunction(2, function ()
        if self and self._owner then
            self._owner:PlayBingoRewardRefresh()
        elseif self and self._owner2 then
            self._owner2:PlayBingoRewardRefresh()
            self._owner2 = nil
        end
    end)

    LuaTimer:SetDelayFunction(3, function ()
        if self and self._owner then
            self._owner:ChangeState("IdleState")
        end
    end)
end

function ShowTxtRollState:OnLeave(fsm)
    self._fsm = nil
    self._owner = nil
    --self._posX = nil
end

function ShowTxtRollState:Dispose()
    self:OnLeave(nil)
end

return this
