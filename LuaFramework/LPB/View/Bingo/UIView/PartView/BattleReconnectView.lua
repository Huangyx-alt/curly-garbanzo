---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by PC.
--- DateTime: 2022/2/12 11:38
---

local BattleReconnectView = BaseView:New('BattleReconnectView');
local this = BattleReconnectView;

this.auto_bind_ui_items =  {
    "btn_sure",
    "btn_cancle",
    "content",
    "title",
    "btn_close",
    "canvas",
}
function BattleReconnectView.Awake()
    this:on_init()
    if this.content then
        this.content.text = Csv.GetData("description", 8000, "description")
    end
end

function BattleReconnectView:OnEnable()
    Event.Brocast(EventName.Pause_Battle,true)
    SDK.error_report_window()
    if self.canvas then
        self.canvas.sortingOrder = self.canvas.sortingOrder + 20
    end
end


function BattleReconnectView.OnDisable()

end

function BattleReconnectView:on_btn_sure_click()
    Facade.SendNotification(NotifyName.Login.ConnectServer)
    fun.set_active(self.go,false)
    --Facade.SendNotification(NotifyName.HideUI, ViewList.BattleReconnectView)
    LuaTimer:SetDelayFunction(3,function()
        if not Network.isConnect and  fun.get_active_scene().name ~= "SceneHome"  and self and not fun.is_null(self.canvas)  then
            fun.set_active(self.go,true)
        end
    end,nil,LuaTimer.TimerType.BattleUI)
end
function BattleReconnectView:on_btn_cancle_click()
    UIUtil.return_to_scenehome()
end
function BattleReconnectView:on_btn_close_click()
end

return this

