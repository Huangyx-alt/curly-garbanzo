---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by PC.
--- DateTime: 2022/3/30 14:38
---  卡牌单元格特效

local CardCellEffect = Clazz(ClazzBase,"CardCellEffect")

local this = CardCellEffect

function CardCellEffect:Init(cardView,cotainer)
    this.cardView = cardView
    this.cotainer = cotainer
end


function CardCellEffect:Play()
    
end

--达成bingo，其他棋子从左至右跳起来旋转一圈
function CardCellEffect:Play(cardCell, signType, delay, cardid, pos, self_bingo)
    signType = signType or 0
    local ref_temp = fun.get_component(cardCell, fun.REFER)
    local ani = ref_temp:Get("ef_Bingo_click")
    if fun.is_null(ani) then
        this.cardView:AddEffectToCellReference(tonumber(cardid), 1, ref_temp:Get("gift_parent"),ref_temp)
    end
    local play_name =  this:GetBingoEffectName(signType, self_bingo)
    this.cotainer:AddDelayAnima(ani, play_name, delay, 1, signType, cardid, pos)
end

function CardCellEffect:GetBingoEffectName(sign,self_bingo)
    local play_name =""
    if self_bingo then
        if sign == 2 then
            play_name = "ef_Bingopcard_click_bingo_show"
        elseif sign == 3 then
            play_name = "ef_Bingopcard_click_jackpot_show_blue"
        end
    else
        if sign == 1 then
            play_name = "bingo_show_red"
        elseif sign == 2 then
            play_name = "bingo_show"
        elseif sign == 3 then
            play_name = "jackpot_show"
        end
    end
    return play_name
end




return this