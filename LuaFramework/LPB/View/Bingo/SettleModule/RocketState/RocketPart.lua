---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by PC.
--- DateTime: 2022/1/6 20:48
---

local RocketPart = {}
local this = RocketPart

function RocketPart:SetModel(model,cardView)
    this.model = model
    this.cardView = cardView
end

--随机涂抹卡牌
function RocketPart:GetRocketSign()
    local info = {}
    local roundData = this.model:GetRoundData()
    local settleData  = this.model:GetSettleData().cardRocket
    for k, v in pairs(roundData) do
        local empty_cell = {}
        local extra_nums_table = {}
        for i = 1, #settleData do
            if tostring(settleData[i].cardId) == k then
                for m = 1, #settleData[i].nums  do
                    local _num = settleData[i].nums[m]
                    for n= 1,#v.cards do
                        if v.cards[n].num == _num then
                            table.insert(empty_cell, { num = _num , index = v.cards[n].index })
                            break
                        end
                    end
                end
            end
        end
        for i = 1, #empty_cell do
            local curr_data = empty_cell[i]
            table.insert(extra_nums_table, curr_data.num)
            --local add_gift_cell =  this.cardView: GetCardMap(tonumber(k),curr_data.index)
            this.cardView:OnClickCardIgnoreJudgeByIndex(k, curr_data.index,9)
        end
        local extra_info = { cardId = k, nums = extra_nums_table }
        table.insert(info, extra_info)
    end
    return info
end







return this