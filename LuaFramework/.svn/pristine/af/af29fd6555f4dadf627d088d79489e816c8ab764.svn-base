---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Administrator.
--- DateTime: 8/11/2024 上午 11:14
---

local SwitchNextCardState = Clazz(BaseFsmState, "SwitchNextCardState")
local this = SwitchNextCardState

function SwitchNextCardState:New()
    local o = {}
    setmetatable(o, { __index = SwitchNextCardState })
    return o
end

function SwitchNextCardState:InitState()
end

function SwitchNextCardState:OnEnter(fsm, previous, cardId, previoursCardId)
    log.EditorLog("enter  SwitchNextCardState")
    self._fsm = fsm
    self._owner = fsm:GetOwner()
    self._owner:PlayCardFocusAnimation(cardId)
    self._owner:PlayCardExitAnimation(previoursCardId)
    LuaTimer:SetDelayFunction(2, function ()
        self._fsm:ChangeState("CoinsTurnState")
    end)
end

function SwitchNextCardState:on_x_update()
    if anima then
        if anima:GetCurrentAnimatorStateInfo(0):IsName("idle") then
            this:stop_x_update()
            this:PlayOver()
        end
    end
end

function SwitchNextCardState:Finish()

end

function SwitchNextCardState:OnLeave(fsm)
    self._fsm = nil
    self._owner = nil
    self._posX = nil
end

function SwitchNextCardState:Dispose()
    self:OnLeave(nil)
end

return this
