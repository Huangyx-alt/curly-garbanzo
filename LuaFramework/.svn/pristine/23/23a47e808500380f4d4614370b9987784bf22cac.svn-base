---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by PC.
--- DateTime: 2021/9/1 18:15
---
local PowerUpBaseState = require "State.PowerUpView.PowerUpBaseState"
local PowerUpDrawCardState = Clazz(PowerUpBaseState,"PowerUpDrawCardState")

function PowerUpDrawCardState:OnEnter(fsm,previous,...)
    local params = ({ ... })[1]
    if params then
        self._count = params
    end
    fsm:GetOwner():DrawCardDisableBtn(true)
    fsm:GetOwner():OnDrawCard()
end

function PowerUpDrawCardState:OnLeave(fsm)
    self._count = nil
    if fsm then
        fsm:GetOwner():DrawCardDisableBtn(false)
    end
end

function PowerUpDrawCardState:Dispose()
    self:OnLeave(nil)
end

function PowerUpDrawCardState:OnDrawCardFinish(fsm)
    if fsm then
        self:ChangeState(fsm,"PowerUpShowHandState")
    end
end

function PowerUpDrawCardState:Play(fsm,args)
    if fsm then
        fsm:GetOwner():DrawCardPlayClick()
    end
end

return PowerUpDrawCardState