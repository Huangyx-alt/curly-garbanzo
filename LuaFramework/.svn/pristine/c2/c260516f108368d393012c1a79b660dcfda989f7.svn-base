---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Administrator.
--- DateTime: 26/11/2024 下午 3:10
---


local BoxSignState = Clazz(BaseFsmState, "BoxSignState")
local this = BoxSignState

function BoxSignState:New()
    local o = {}
    setmetatable(o, { __index = BoxSignState })
    return o
end

function BoxSignState:InitState()
end

function BoxSignState:OnEnter(fsm, previous)
    log.EditorLog(tostring(fsm:GetOwner():GetCardId()) .. " enterstate  " .. "BoxSignState:OnEnter")
    self._fsm = fsm
    self._owner = fsm:GetOwner()
    self._owner:RecordGetNewBingo(false)
    ---等待0.5s,对应的格子播放礼盒出现动画
    LuaTimer:SetDelayFunction(0.5, function()
        self._owner:ChangeState("CheckChangeState")
    end )
end

function BoxSignState:on_x_update()
    if anima then
        if anima:GetCurrentAnimatorStateInfo(0):IsName("idle") then
            this:stop_x_update()
            this:PlayOver()
        end
    end
end

function BoxSignState:Finish()

end

function BoxSignState:OnLeave(fsm)
    self._fsm = nil
    self._owner = nil
    self._posX = nil
end

function BoxSignState:Dispose()
    self:OnLeave(nil)
end

return this
