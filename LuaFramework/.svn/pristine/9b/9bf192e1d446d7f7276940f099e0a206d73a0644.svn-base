---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by PC.
--- DateTime: 2022/10/11 17:19
---

local BaseSkill = {}
local this = BaseSkill
BaseSkill.__index = BaseSkill

this.CellState = { Empty = 0, DoubleNum = 1, AddItem = 2, Signed = 10 }

function BaseSkill:New(name)
    local o = {name = name}
    setmetatable(o,{__index = BaseSkill})
    return o
end

function BaseSkill:SetCardPower(cardPower)
    self.cardPower = cardPower
end

function BaseSkill:GetCardPower()
    return self.cardPower
end

--- 返回PowerupView
--- @return GamePowerUpView
function BaseSkill:GetPowerUpView()
    return self.cardPower:GetCardView():GetParentView().powerView
end

function BaseSkill:SaveSkillInfo(cardId,obj)
    if obj == nil then
        table.insert(self.cardPower.CardPowerList, { id = cardId, obj = nil })
    else
        for i = 1, #self.cardPower.CardPowerList do
            if self.cardPower.CardPowerList[i].id ==cardId and self.cardPower.CardPowerList[i].obj == nil then
                self.cardPower.CardPowerList[i].obj = obj
                break
            end
        end
    end
end

function BaseSkill:RemoveSkillInfo(obj)
    for i = 1, #self.cardPower.CardPowerList do
        if self.cardPower.CardPowerList[i].obj == obj then
            table.remove(self.cardPower.CardPowerList, i)
            break
        end
    end
end

function BaseSkill:GetModel()
    return self:GetCardPower():GetModel()
end

function BaseSkill:SameScaleWithCard (effect,cardId)
    local card = self:GetCardPower():GetCardView():GetCardMap(cardId)
    if card then
        effect.transform.localScale = card.transform.localScale
    end
end

return this
